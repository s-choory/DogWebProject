<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="AccompanyingFacilitiesMapper">	<!-- Mapper 생성 후 Configuration 수정 -->

<select id="selectList" resultType="AccompanyingFacilities">
	SELECT * FROM AccompanyingFacilities
</select>

<select id="searchList" resultType="AccompanyingFacilities" parameterType="AccompanyingFacilities">
    SELECT * FROM AccompanyingFacilities
    WHERE
    <if test="RodeAddress != null and Category2 != null">
        (FACILITIESNAME LIKE '%' || #{RodeAddress} || '%' OR RodeAddress LIKE '%' || #{RodeAddress} || '%' OR HouseAddress LIKE '%' || #{RodeAddress} || '%')
        AND Category2 LIKE '%' || #{Category2} || '%'
    </if>
    <if test="RodeAddress != null and Category2 == null">
        (FACILITIESNAME LIKE '%' || #{RodeAddress} || '%' OR RodeAddress LIKE '%' || #{RodeAddress} || '%' OR HouseAddress LIKE '%' || #{RodeAddress} || '%')
    </if>
    <if test="RodeAddress == null and Category2 != null">
        Category2 LIKE '%' || #{Category2} || '%'
    </if>
</select>


</mapper>